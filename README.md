# Search Engine
Поисковый движок представляет собой консольное приложение,
осуществляющее поиск по документам формата TXT и имеющее возможность настройки через файлы формата
JSON. Результат работы программы сохраняется в JSON файл, где отображены соответствующие запросу документы
и их поисковый рейтинг. Поисковой рейтинг показывает,
насколько документ подходит для заданного запроса. В ответе id документов
располагаются в порядке уменьшения поискового рейтинга.

## Содержание
- [Принцип работы](#принцип-работы)
- [Технологии](#технологии)
- [Требования](#требования)
- [Установка и запуск](#установка-и-запуск)
- [Использование](#использование)

## Принцип работы
Принцип работы поискового движка следующий:
1. В конфигурационном файле(config.json) перед запуском приложения задаются названия файлов, по которым движок будет осуществлять поиск.
2. Поисковый движок обходит все файлы и индексирует их.
3. Пользователь задаёт запрос через JSON-файл(requests.json). Запрос — это
набор слов, по которым нужно найти документы.
4. Запрос трансформируется в список слов.
5. Ищутся те документы, в которых встречаются все эти слова.
6. Результаты поиска ранжируются и сортируются.
8. В конце программа формирует файл answers.json, в который записывает
результаты поиска.

## Технологии
- Язык: C++
- Фреймворки: [Qt Creator](https://www.qt.io/product/development-tools)
- Библиотеки:
  - [JSON for Modern C++ - Niels Lohmann](https://github.com/nlohmann/json)
  - [GoogleTest](https://github.com/google/googletest)
- Инструменты сборки: [CMake](https://cmake.org/)
- Компиляторы: GCC в состове [MinGW64](https://cmake.org/)

## Требования
Для установки и запуска проекта, необходимо:
1. Скачать и установить [CMake](https://cmake.org/).
2. Добавить в переменные среды Windows путь к папке ..\CMake\bin (пример: "C:\Program Files\CMake\bin").  Инструкцию по добавлению в переменные среды Windows можно посмотреть [здесь](https://remontka.pro/environment-variables-windows/).
3. Скачать и установить [MinGW-W64-builds](https://www.mingw-w64.org/).
4. Добавить в переменные среды Windows путь к папке ..\mingw64\bin (пример: "C:\Program Files\mingw64\bin").

## Установка и запуск
Для Windows:
1. Скачайте репозиторий Search Engine.
2. Запустите командную строку из папки Search Engine или перейдите в нее находясь в командной строке. Пример: "C:\search_engine>".
3. Введите следующие команды:
   - cmake -G "MinGW Makefiles" -B build -S .  
   - cmake --build build
4. Проект будет скомпилирован в папке build.
5. Для запуска из командной строки перейдите в папку build(команда: cd build). Введите search_engine. Программа будет запущена.

## Использование
Все взаимодействие с поисковым движком осуществляется посредством файлов config.json и requests.json. Эти файлы находятся в директории исполняемого файла search_engine.exe (по умолчанию в папке build скаченного с репозитория проекта). Настройка файлов JSON осуществляется до запуска движка.

Структура файла config.json:
  ```
  {
  	"config": {
  		"name": "SearchEngine",
  		"version": 0.1,
  		"max_responses": 5,
  		"time_updateting": 2
  	},
  	"files": [
  		"resources/file001.txt",
  		"resources/file002.txt",
  		"resources/file003.txt",
  		"resources/file004.txt"
  	]
  }
  ```
Поле "config" содержит следующие доступные для настройки поля: 
  - "max_responses" — поле, определяющее максимальное количество ответов на один запрос,
максимальное количество вариантов в ответе (если не указано, то значение
выбирается равным пяти)
  -  "time_updateting"  — поле задает время обновления базы в минутах (с какой периодичностью необходимо делать
переиндексирование базы, заново подгружать файлы и обсчитывать их поисковый
рейтинг). Если не указано, то значение выбирается равным единице.

Поле "files" содержит пути к файлам, по которым необходимо осуществлять поиск. По умолчанию в папке "resources" содержатся 4 тестовых файла, и в поле "files" указаны пути к ним.

Структура файла requests.json:
  ```
  {
  	"requests": [
  		"alpha alpha",
  		"void class",
  		"none",
  		"",
  		"request3 class class world",
  		"hello world",
  		"memory"
  	]
  }
  ```
Поле "requests" состоит из списка запросов, которые необходимо обработать поисковым движком. Каждое значение поля "requests"(пример: "void class") содержит поисковый запрос - набор слов,
разделенных одним или несколькими пробелами. По ним осуществляется поиск. Все слова должны состоять из строчных латинских букв.

После настройки файлов JSON можно запускать поисковой движок. Смотрите подпункт 5 пункта [Установка и запуск](#установка-и-запуск).

После запуска дождитесь сообщения "The database has been updated!". Это значит, что файл answers.json сформирован и готов к чтению. 
Так же рядом с сообщением "The database has been updated!" будут указаны дата и время обновления базы и файла answers.json.
По дате и времени последнего обновления базы можно понять, когда будет следующее обновление. 

Для выхода из приложения Search Engine введите команду "exit" и нажмите Enter.
